<form class="form-inline" ng-app>
    <i class="icon-move"></i>
    <input
        type="text"
        value="{{step.name}}"
        class="step-name"
        title="step.name"
        ng-model="step.name"
        ng-blur="rename()" ng-show="tree-item.showEdit"/>
        <span ng-hide="tree-item.showEdit" ng-mouseenter="show = true" ng-mouseleave="show = false" >
        {{ step.name }}

        {{ tree-item.showEdit }}
        </span>
    <span ng-show="show" ng-mouseenter="show = true" ng-mouseleave="show = false">
        <button class="btn btn-primary btn-mini" ng-click="openDialog(step)" tooltip="Activities list">
            <i class="icon-list-alt"></i>
        </button>
        <button class="btn btn-mini" ng-click="addChild(step)" tooltip="Add a child">
            <i class="icon-plus"></i>
        </button>
        <button class="btn btn-mini" ng-click="copy(step)" tooltip="Copy">
            <i class="icon-copy"></i>
        </button>
        <button class="btn btn-mini" ng-click="paste(step)" ng-disabled="pasteDisabled" tooltip="Paste">
            <i class="icon-paste"></i>
        </button>
        <button class="btn btn-mini" ng-click="openTemplateModal(step)" tooltip="Add to favorites">
            <i class="icon-heart"></i>
        </button>
        <button class="btn btn-mini" ng-click="tree-item.showEdit=!tree-item.showEdit" tooltip="Edit">
            <i class="icon-pencil"></i>
        </button>
        <button class="btn btn-danger btn-mini" ng-click="remove(step)" tooltip="Delete">
            <i class="icon-trash"></i>
        </button>
        <button class="btn btn-danger btn-mini" ng-click="removeChildren(step)" ng-show="step.children.length > 0">
            <i class="icon-list"></i>
        </button>
    </span>
</form>
<ul ui-sortable="sortableOptions" ng-model="step.children">

    <li style="position:relative;"
        ng-repeat="step in step.children"
        ng-include="'partials/tree-item.html'"
        >
    </li>
</ul>